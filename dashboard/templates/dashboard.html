{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Username top right, outside header -->
{% if user.is_authenticated %}
  <div style="position: absolute; top: 70px; right: 30px; font-size: 18px; z-index: 1000;" class="text-dark fw-bold">
    <i class="bi bi-person-circle"></i> {{ user.username }}
  </div>
{% endif %}

<!-- Header-->
<header class="bg-dark py-5">
  <div class="container px-2 px-md-3 my-3">
    <div class="text-center text-white">
      <h1 class="logo-title">BINGWA</h1>
      <p class="tagline mb-0">
        <span class="highlight">Automate your sales with the new Bingwa 2.0 app</span> 
      </p>
    </div>
  </div>
</header>




<section class="py-5">
  <div class="container">

    <!-- Heading -->
    <h2 class="mb-5 fw-bold text-primary text-center">Bingwa Sokoni Dashboard</h2>

    <!-- Quick Action Cards -->
    <div class="row row-cols-2 row-cols-sm-2 row-cols-md-4 g-4 mb-5">
      <div class="col">
        <a href="{% url 'airtime' %}" class="text-decoration-none">
          <div class="card shadow-sm h-100 text-center border-0 hover-scale">
            <div class="card-body">
              <i class="bi bi-phone fs-1 text-info mb-2"></i>
              <h6 class="mb-4 fw-bold mt-2">Airtime</h6>
              <!-- Balance display -->
                <p class="text-muted fw-semibold mb-0">
                  Balance: 
                  {% if airtime_balance %}
                    Ksh {{ airtime_balance }}
                  {% else %}
                    ****
                  {% endif %}



            </div>
          </div>
        </a>
      </div>
      <div class="col">
        <a href="{% url 'commission' %}" class="text-decoration-none">
          <div class="card shadow-sm h-100 text-center border-0 hover-scale">
            <div class="card-body">
              <i class="bi bi-currency-dollar fs-1 text-success mb-2"></i>
              <h6 class="fw-bold theme-text">Commission</h6>
              <!-- Balance display -->
                <p class="text-muted fw-semibold mb-0">
                  Balance Stats: 
                  {% if commission_balance %}
                    Ksh {{ commission_balance }}
                  {% else %}
                    ****
                  {% endif %}
            </div>
          </div>
        </a>
      </div>
      <div class="col">
        <a href="{% url 'tokens' %}" class="text-decoration-none">
          <div class="card shadow-sm h-100 text-center border-0 hover-scale">
            <div class="card-body">
              <i class="bi bi-key fs-1 text-warning mb-2"></i>
              <h6 class="fw-bold theme-text">Tokens</h6>
            </div>
          </div>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'settings' %}" class="text-decoration-none">
          <div class="card border-0 shadow-sm h-100 text-center">
            <div class="card-body">
              <i class="bi bi-gear fs-1 text-secondary"></i>
              <h5 class="card-title mt-2">Settings</h5>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- Status Cards -->
    <!-- Status Cards -->
<div class="row row-cols-2 row-cols-md-5 g-4">
  
  <!-- Completed -->
  <div class="col">
    <div class="card text-bg-success text-center shadow-sm h-100 d-flex flex-column justify-content-between">
      <div class="card-body">
        <h6 class="mb-1">Completed</h6>
        <p class="fs-4 fw-bold mb-0">{{ total_completed }}</p>

      </div>
      <div class="card-footer bg-transparent border-0">
        <a href="{% url 'completed_transactions' %}" class="fw-bold small text-dark text-decoration-none px-3 py-1 border rounded" style="border-color: #ccc;">
          View All
        </a>
      </div>
    </div>
  </div>

  <!-- Pending -->
  <div class="col">
    <div class="card text-bg-warning text-center shadow-sm h-100 d-flex flex-column justify-content-between">
      <div class="card-body">
        <h6 class="mb-1">Pending</h6>
        <p class="fs-4 fw-bold mb-0">{{ total_pending }}</p>

      </div>
      <div class="card-footer bg-transparent border-0">
        <a href="{% url 'pending_transactions' %}" class="fw-bold small text-dark text-decoration-none px-3 py-1 border rounded" style="border-color: #ccc;">
          View All
        </a>
      </div>
    </div>
  </div>

  <!-- Failed -->
  <div class="col">
    <div class="card text-bg-danger text-center shadow-sm h-100 d-flex flex-column justify-content-between">
      <div class="card-body">
        <h6 class="mb-1">Failed</h6>
        <p class="fs-4 fw-bold mb-0">{{ total_failed }}</p>

      </div>
      <div class="card-footer bg-transparent border-0">
        <a href="{% url 'failed_transactions' %}" class="fw-bold small text-dark text-decoration-none px-3 py-1 border rounded" style="border-color: #ccc;">
          View All
        </a>
      </div>
    </div>
  </div>

  <!-- Received -->
<div class="col">
  <div class="card text-bg-primary text-center shadow-sm h-100 d-flex flex-column justify-content-between">
    <div class="card-body">
      <h6 class="mb-1">Received</h6>
      <p class="fs-4 fw-bold mb-0">{{ total_received }}</p>
    </div>
    <div class="card-footer bg-transparent border-0">
      <a href="{% url 'received_transactions' %}" class="fw-bold small text-dark text-decoration-none px-3 py-1 border rounded" style="border-color: #ccc;">
        View All
      </a>
    </div>
  </div>
</div>


  <!-- Logout -->
  {% if user.is_authenticated %}
    <div class="col">
      <a href="{% url 'logout' %}" class="text-decoration-none">
        <div class="card border border-danger text-center text-danger shadow-sm h-100 d-flex flex-column justify-content-center">
          <div class="card-body">
            <i class="bi bi-power fs-3"></i>
            <h6 class="mt-2">Logout</h6>
          </div>
        </div>
      </a>
    </div>
  
  {% endif %}



  </div>
</section>
</br></br></br></br>
{% endblock %}
